{"version":3,"sources":["../../../src/php/url/http_build_query.js"],"names":["module","exports","http_build_query","formdata","numericPrefix","argSeparator","urlencode","require","value","key","tmp","_httpBuildQueryHelper","val","k","push","join","Error","isNaN","String","query"],"mappings":";;;;AAAAA,OAAOC,OAAP,GAAiB,SAASC,gBAAT,CAA2BC,QAA3B,EAAqCC,aAArC,EAAoDC,YAApD,EAAkE;AAAE;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAIC,YAAYC,QAAQ,kBAAR,CAAhB;;AAEA,MAAIC,KAAJ;AACA,MAAIC,GAAJ;AACA,MAAIC,MAAM,EAAV;;AAEA,MAAIC,wBAAwB,SAAxBA,qBAAwB,CAAUF,GAAV,EAAeG,GAAf,EAAoBP,YAApB,EAAkC;AAC5D,QAAIQ,CAAJ;AACA,QAAIH,MAAM,EAAV;AACA,QAAIE,QAAQ,IAAZ,EAAkB;AAChBA,YAAM,GAAN;AACD,KAFD,MAEO,IAAIA,QAAQ,KAAZ,EAAmB;AACxBA,YAAM,GAAN;AACD;AACD,QAAIA,QAAQ,IAAZ,EAAkB;AAChB,UAAI,QAAOA,GAAP,yCAAOA,GAAP,OAAe,QAAnB,EAA6B;AAC3B,aAAKC,CAAL,IAAUD,GAAV,EAAe;AACb,cAAIA,IAAIC,CAAJ,MAAW,IAAf,EAAqB;AACnBH,gBAAII,IAAJ,CAASH,sBAAsBF,MAAM,GAAN,GAAYI,CAAZ,GAAgB,GAAtC,EAA2CD,IAAIC,CAAJ,CAA3C,EAAmDR,YAAnD,CAAT;AACD;AACF;AACD,eAAOK,IAAIK,IAAJ,CAASV,YAAT,CAAP;AACD,OAPD,MAOO,IAAI,OAAOO,GAAP,KAAe,UAAnB,EAA+B;AACpC,eAAON,UAAUG,GAAV,IAAiB,GAAjB,GAAuBH,UAAUM,GAAV,CAA9B;AACD,OAFM,MAEA;AACL,cAAM,IAAII,KAAJ,CAAU,uDAAV,CAAN;AACD;AACF,KAbD,MAaO;AACL,aAAO,EAAP;AACD;AACF,GAxBD;;AA0BA,MAAI,CAACX,YAAL,EAAmB;AACjBA,mBAAe,GAAf;AACD;AACD,OAAKI,GAAL,IAAYN,QAAZ,EAAsB;AACpBK,YAAQL,SAASM,GAAT,CAAR;AACA,QAAIL,iBAAiB,CAACa,MAAMR,GAAN,CAAtB,EAAkC;AAChCA,YAAMS,OAAOd,aAAP,IAAwBK,GAA9B;AACD;AACD,QAAIU,QAAQR,sBAAsBF,GAAtB,EAA2BD,KAA3B,EAAkCH,YAAlC,CAAZ;AACA,QAAIc,UAAU,EAAd,EAAkB;AAChBT,UAAII,IAAJ,CAASK,KAAT;AACD;AACF;;AAED,SAAOT,IAAIK,IAAJ,CAASV,YAAT,CAAP;AACD,CAjED","file":"http_build_query.js","sourcesContent":["module.exports = function http_build_query (formdata, numericPrefix, argSeparator) { // eslint-disable-line camelcase\n  //  discuss at: http://locutus.io/php/http_build_query/\n  // original by: Kevin van Zonneveld (http://kvz.io)\n  // improved by: Legaev Andrey\n  // improved by: Michael White (http://getsprink.com)\n  // improved by: Kevin van Zonneveld (http://kvz.io)\n  // improved by: Brett Zamir (http://brett-zamir.me)\n  //  revised by: stag019\n  //    input by: Dreamer\n  // bugfixed by: Brett Zamir (http://brett-zamir.me)\n  // bugfixed by: MIO_KODUKI (http://mio-koduki.blogspot.com/)\n  //      note 1: If the value is null, key and value are skipped in the\n  //      note 1: http_build_query of PHP while in locutus they are not.\n  //   example 1: http_build_query({foo: 'bar', php: 'hypertext processor', baz: 'boom', cow: 'milk'}, '', '&amp;')\n  //   returns 1: 'foo=bar&amp;php=hypertext+processor&amp;baz=boom&amp;cow=milk'\n  //   example 2: http_build_query({'php': 'hypertext processor', 0: 'foo', 1: 'bar', 2: 'baz', 3: 'boom', 'cow': 'milk'}, 'myvar_')\n  //   returns 2: 'myvar_0=foo&myvar_1=bar&myvar_2=baz&myvar_3=boom&php=hypertext+processor&cow=milk'\n\n  var urlencode = require('../url/urlencode')\n\n  var value\n  var key\n  var tmp = []\n\n  var _httpBuildQueryHelper = function (key, val, argSeparator) {\n    var k\n    var tmp = []\n    if (val === true) {\n      val = '1'\n    } else if (val === false) {\n      val = '0'\n    }\n    if (val !== null) {\n      if (typeof val === 'object') {\n        for (k in val) {\n          if (val[k] !== null) {\n            tmp.push(_httpBuildQueryHelper(key + '[' + k + ']', val[k], argSeparator))\n          }\n        }\n        return tmp.join(argSeparator)\n      } else if (typeof val !== 'function') {\n        return urlencode(key) + '=' + urlencode(val)\n      } else {\n        throw new Error('There was an error processing for http_build_query().')\n      }\n    } else {\n      return ''\n    }\n  }\n\n  if (!argSeparator) {\n    argSeparator = '&'\n  }\n  for (key in formdata) {\n    value = formdata[key]\n    if (numericPrefix && !isNaN(key)) {\n      key = String(numericPrefix) + key\n    }\n    var query = _httpBuildQueryHelper(key, value, argSeparator)\n    if (query !== '') {\n      tmp.push(query)\n    }\n  }\n\n  return tmp.join(argSeparator)\n}\n"]}